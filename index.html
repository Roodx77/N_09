<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>09</title>

<style>
body{
  margin:0;
  min-height:100vh;
  background:
    linear-gradient(rgba(0,0,0,.65), rgba(0,0,0,.65)),
    url("bg.jpg");
  background-size:cover;
  background-position:center;
  font-family:Arial;
  display:flex;
  justify-content:center;
  align-items:center;
  color:#eaeaea;
}
.box{
  background:rgba(22,22,22,.85);
  padding:30px;
  border-radius:20px;
  max-width:420px;
  width:90%;
  text-align:center;
}
h1{color:#4fd1c5;margin-top:0}
select,textarea,button{
  width:100%;
  margin-top:15px;
  padding:12px;
  border-radius:12px;
  border:none;
  font-size:15px;
}
textarea{resize:none;height:90px}
button{
  background:#4fd1c5;
  color:#000;
  cursor:pointer;
}
.result{
  margin-top:20px;
  line-height:1.7;
  opacity:.9;
}
</style>
</head>

<body>

<div class="box">
  <h1>09</h1>
  <p>ما الانفعال الذي تشعر به الآن؟</p>

  <select id="emotion">
    <option value="">— اختر —</option>

    <!-- سلبية -->
    <option>الخوف</option>
    <option>القلق</option>
    <option>الحزن</option>
    <option>الغضب</option>
    <option>العار</option>
    <option>الذنب</option>
    <option>الإحباط</option>
    <option>الوحدة</option>
    <option>الغيرة</option>
    <option>الحسد</option>
    <option>اليأس</option>
    <option>الارتباك</option>

    <!-- إيجابية / عاطفية -->
    <option>الحب</option>
    <option>الإعجاب</option>
    <option>الاشتياق</option>
    <option>الحنين</option>
    <option>الطمأنينة</option>
    <option>الامتنان</option>
    <option>الفرح</option>

    <!-- عقلية -->
    <option>التفكير</option>
    <option>الحيرة</option>
    <option>التردد</option>

    <option value="other">أخرى…</option>
  </select>

  <textarea id="custom" placeholder="اكتب ما تشعر به…" style="display:none"></textarea>

  <button onclick="respond()">اسمعني</button>

  <div id="output" class="result"></div>
</div>

<script>
const replies = {
  الخوف:"الخوف إشارة حماية، لا عدو.",
  القلق:"القلق تفكير في مستقبل لم يحدث بعد.",
  الحزن:"الحزن دليل على قيمة ما فُقد.",
  الغضب:"الغضب طاقة لحد تم تجاوزه.",
  العار:"العار خوف من أن تُرى كما أنت.",
  الذنب:"الذنب يعني أن ضميرك حي.",
  الإحباط:"الإحباط فجوة بين التوقع والواقع.",
  الوحدة:"الوحدة غياب الفهم لا غياب الناس.",
  الغيرة:"الغيرة مرآة لما نتمناه.",
  الحسد:"الحسد رغبة لم تُعترف بعد.",
  اليأس:"اليأس تعب طويل بلا معنى واضح.",
  الارتباك:"الارتباك تعدد أصوات داخلك.",

  الحب:"الحب حضور لا يحتاج تفسير.",
  الإعجاب:"الإعجاب بداية فضول.",
  الاشتياق:"الاشتياق أثر علاقة حيّة.",
  الحنين:"الحنين ذاكرة تشعر.",
  الطمأنينة:"الطمأنينة ثقة هادئة.",
  الامتنان:"الامتنان وعي بالنعم.",
  الفرح:"الفرح لحظة امتلاء.",

  التفكير:"التفكير محاولة للفهم.",
  الحيرة:"الحيرة تعني أن القرار مهم.",
  التردد:"التردد خوف من الخطأ."
};

async function respond(){
  const e = emotion.value;
  const text = custom.value.trim();
  output.textContent = "";

  if(!e){ alert("اختر انفعالًا"); return; }

  if(e !== "other"){
    output.textContent = replies[e] || "لاحظ شعورك بهدوء.";
    return;
  }

  if(!text){ alert("اكتب شعورك"); return; }

  output.textContent = "أفكر معك…";

  const r = await fetch("https://YOUR-SERVER-URL/analyze",{
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({ text })
  });

  const d = await r.json();
  output.textContent = d.reply;
}

emotion.onchange = ()=>{
  custom.style.display = emotion.value==="other" ? "block" : "none";
};
</script>

</body>
</html>
