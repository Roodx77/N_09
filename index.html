<script>
const data = {
  "الخوف":{
    deep:"الخوف ينشأ عندما يتقدم المجهول على الفهم. هو ليس ضعفًا، بل وعي مبكر بالخطر قبل أن يُسمّى.",
    short:"الخوف يسبق الشجاعة."
  },
  "القلق":{
    deep:"القلق هو تفكير بلا أرض. العقل يركض نحو احتمالات لم تقع بعد، فيتعب قبل أن يبدأ.",
    short:"القلق مستقبل متخيَّل."
  },
  "الحزن":{
    deep:"الحزن ليس انكسارًا، بل اعتراف داخلي بقيمة ما فُقد. من لا يحزن لم يحب.",
    short:"الحزن ذاكرة القلب."
  },
  "الغضب":{
    deep:"الغضب طاقة غير موجهة. إن لم تُفهم تحوّلت إلى تدمير، وإن فُهمت أصبحت قوة تغيير.",
    short:"الغضب طاقة."
  },
  "الوحدة":{
    deep:"الوحدة لا تعني غياب الناس، بل غياب الشعور بأنك مفهوم.",
    short:"الوحدة فجوة فهم."
  },
  "الحب":{
    deep:"الحب حضور كامل دون محاولة امتلاك. هو قبول الآخر دون تعديل.",
    short:"الحب وعي."
  },
  "الامتنان":{
    deep:"الامتنان وعي هادئ بأن ما لديك لم يكن مضمونًا.",
    short:"الامتنان سلام."
  },
  "الفرح":{
    deep:"الفرح لحظة انسجام نادرة بين الداخل والخارج.",
    short:"الفرح توافق."
  },
  "التفكير":{
    deep:"التفكير محاولة لترتيب الفوضى الداخلية. ليس كل تفكير حلًا، لكنه بداية.",
    short:"التفكير بحث."
  },
  "الحيرة":{
    deep:"الحيرة دليل أنك لم تعد تقبل الإجابات السهلة.",
    short:"الحيرة نضج."
  },
  "الأمل":{
    deep:"الأمل قرار داخلي بالاستمرار رغم غياب الضمان.",
    short:"الأمل اختيار."
  },
  "اليأس":{
    deep:"اليأس تعب طويل دون معنى واضح. ليس نهاية، بل توقف مؤقت.",
    short:"اليأس إنهاك."
  },
  "السلام الداخلي":{
    deep:"السلام الداخلي ليس غياب المشاكل، بل غياب الصراع معها.",
    short:"السلام قبول."
  }
};

// باقي الانفعالات تأخذ تحليل عام محترم (بدون تكرار حرفي)
function fallback(emotion){
  return {
    deep:`${emotion} حالة داخلية تعبّر عن تفاعل بين الفكر والتجربة. فهمها أهم من مقاومتها.`,
    short:`لاحظ ${emotion} بهدوء.`
  };
}

const emotions = Object.keys(data);
const select = document.getElementById("emotion");

// إضافة الانفعالات للقائمة
emotions.forEach(e=>{
  const o = document.createElement("option");
  o.textContent = e;
  select.appendChild(o);
});

// إضافة بقية الانفعالات من قائمتك القديمة (إن لم تكن موجودة)
const allEmotions = [
"الخجل","التوتر","الضغط","الاستياء","الشك","الملل","الانكسار",
"الإعجاب","الاشتياق","الحنين","الطمأنينة","السرور","الحماس","الرضا",
"الارتياح","التفاؤل","الشغف","البهجة","المودة","السعادة","السكينة",
"الراحة","الفخر","الانجذاب","التردد","التركيز","التأمل","الوعي",
"التخطيط","التحليل","الفهم","الخيال","الابداع","الانتباه","الملاحظة",
"المرونة","التقدير","المنطق","التقييم","الاختيار","القرارات",
"الإدراك","الحكمة","الحدس","الاستبصار","التعلم","التطور","النضج",
"المسؤولية","الحرية","الانتماء","القوة","الضعف","القبول","الرفض",
"التحرر","الصراع","الشك الذاتي","الخسارة","النهاية"
];

allEmotions.forEach(e=>{
  if(!emotions.includes(e)){
    const o = document.createElement("option");
    o.textContent = e;
    select.appendChild(o);
  }
});

function analyze(){
  const e = select.value;
  if(!e) return;

  const res = data[e] || fallback(e);

  document.getElementById("output").innerHTML = `
    <div>${res.deep}</div>
    <div class="short">${res.short}</div>
  `;
}
  </script>
